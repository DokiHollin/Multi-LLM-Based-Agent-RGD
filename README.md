This repository include code and dataset for the paper **RGD: Multi-LLM Based Agent Debugger via Refinement and Generation Guidance** (https://arxiv.org/abs/2410.01242)

The **RGD** framework is a multi-LLM-based agent debugger that leverages three distinct LLM agentsâ€”Guide Agent, Debug Agent, and Feedback Agent. RGD decomposes the code generation task into multiple steps, ensuring a clearer workflow and enabling iterative code refinement based on self reflection and feedback. 
![image](https://github.com/user-attachments/assets/babf3691-0f39-4b1d-9b53-0242b2b57a04)

## Installation
```bash
conda create -n rgd python=3.10
conda activate rgd
python -m pip install -r requirements.txt
```

### Add API
Add OPENAI API in the config.py file
```bash
OPENAI_API_KEY = "[API KEY]"
```

### Run
```bash
cd ./programming
./run_debug.sh [model] [dataset]
```
Available options:
MODEL: openai based model
DATASET: humaneval/mbpp

### Other Information
The memoy insight will be stored in the pool.jsonl file, all the outcome that passed both visible and hidden testcases will be recorded
## Our refinement procedure:
![image](https://github.com/user-attachments/assets/2b14d7a9-a2f5-447d-bb6c-c5de29d692a6)

## Token Consumption & Convergence:
![image](https://github.com/user-attachments/assets/09bbae9b-259f-4b5a-af5b-1ad34c40a0ef)
![image](https://github.com/user-attachments/assets/c43656c9-92aa-4b57-ba45-b7b246cb9ead)

## Other Models:
![image](https://github.com/user-attachments/assets/3e75af43-b5b2-4217-9ecf-cb5966d9fc5f)

### Our's Results
Due to the significant randomness in API calls, the accuracy varies greatly with each run. Therefore, we have placed the results from the paper in the results folder. The datasets for APPS and ET versions are not compatible in this version, but they will be adapted in the future. However, the experimental results from the paper are provided in the results folder.

### Acknowledgement
Our test execution code utilized from LLMDebugger, also the input seed dataset was generated manually from our's environment (Those seed dataset was direct generated by the openai's model without any other prompt technique to saves time and filter out easy question, you can generate the same outcome by using LLMDebuger's source code [https://github.com/FloridSleeves/LLMDebugger]). We really appreciate their effort and open source code. 


